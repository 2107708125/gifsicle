Gifsicle NEWS

Version 1.7.1   2.Dec.1998

* Added configuration check for `strerror'. Problem reported by Mario
  Gallotta <Mario_Gallotta@optilink.dsccc.com>.

* Added colormap canonicalization: If you pipe a GIF through `gifsicle -O'
  or `-O2', the output colormaps will be arranged in a predictable order.
  Feature suggested by Markus F.X.J. Oberhumer
  <k3040e4@c210.edvz.uni-linz.ac.at>.


Version 1.7   28.Nov.1998

* Added `--use-colormap=gray' and `--use-colormap=bw'. Idea and some code
  thanks to Christian Kumpf <kumpf@igd.fhg.de>.

* Added `--transform-colormap', which allows you to plug programs into
  gifsicle that arbitrarily change GIF files' colormaps.

* All `--change-color' options now happen simultaneously, so you can safely
  swap two colors with `--change-color C1 C2 --change-color C2 C1'.

* Colormap modifications are slightly more powerful (they don't reserve a
  color for transparency if they don't need one, and if a subset of the
  modified colormap is used, only that subset is output).

* Fixed `--use-colormap' bug: the last color in a used colormap would be
  ignored (it was reserved for transparency). Symptom: if you put a
  partially transparent image into the Web-safe palette, the result would
  never contain white.

* When changing to a grayscale colormap, gifsicle now uses luminance
  difference to find the closest color. This gives better results for
  `--use-colormap=gray' and the like.

* Added Introduction and Concept Index sections to the gifsicle manpage.

* The gifsicle package now uses automake.


Version 1.6   23.Nov.1998

* A frame extracted from the middle of an animation will now have the
  animation's screen size rather than 640x480. Problem reported by Mr.
  Moose <mrmoose@execpc.com>.


Version 1.5   27.Sep.1998

* `--help' now prints on stdout, as according to the GNU standards.

* Changes to support Win32 port thanks to Emil Mikulic
  <darkmoon@connexus.net.au>.

* Makefiles: Added `make uninstall' target, enabled `./configure's
  program name transformations, made VPATH builds possible.


Version 1.4.1   16.Sep.1998

* Fixed `--unoptimize' bug: a frame's transparency could disappear under rare
  circumstances. Bug reported by Rodney Brown <rodneybrown@pmsc.com>


Version 1.4   12.Sep.1998

* Added `--extension' and `--app-extension'.


Version 1.3.4   7.Sep.1998

* More configuration changes.

* Fixed bug in gifview `--geometry' option processing: `--geometry -0-0'
  wasn't recognized.


Version 1.3.2   5.Sep.1998

* Fixed configuration bugs reported by Alexander Mai
  <st002279@hrzpub.tu-darmstadt.de> (OS/2 build didn't work).


Version 1.3.1   4.Sep.1998

* Fixed configuration bug: int32_t could be improperly redefined. Reported by
  Anne "Idiot" Dudfield <anne@lvld.hp.com> and Dax Kelson
  <dkelson@inconnect.com>.


Version 1.3   3.Sep.1998

* Added `--flip-*' and `--rotate-*' options.

* Fixed rare bug in GIF writing code: the last pixel in a frame could
  previously become corrupted.


Version 1.3b1   2.Aug.1998

* Optimization has been completely overhauled. All optimization functions
  are in a separate file, optimize.c. Some bugs have been caught.
  Optimization is now quite powerful, and rarely expands any input file.
  (An expansion of 1-30 bytes usually means that the input file cheated by
  leaving off 'end-of-image' codes, which the standard says must be used.)
  People interested in making optimization even better should contact me,
  or just go ahead and hack the code. Thanks again to David Hedbor
  <david@hedbor.org> for providing test cases.

  Specific changes:

  - The optimizer can handle any input file, even one with local colormaps or
    more than 256 colors. If there are more than 256 colors, an optimal subset
    is placed in the global colormap.

  - The global colormap is reordered so that some images can use a small
    initial portion of it, which lets them compress smaller.

  - Bug fix: Images relying on background disposal are optimized correctly.

  - `-O2' never does worse than `-O1'.

  - Made the `-O2' heuristic better. Some other small changes and
    improvements here and there.

  - The optimizer has been pretty extensively tested using gifdiff.

* New program: gifdiff compares two GIFs for identical appearance. It is
  not built unless you give the `--enable-gifdiff' option to `./configure'.
  It's probably not useful unless you're testing a GIF optimizer.

* Robustness fixes in GIF library.


Version 1.2.1   8.Jun.1998

* `--info' now sends information to standard output. `--info --info' still
  sends information to standard error.

* `--transparent' didn't work. It does now.

* Added `--background' option. Fixed background processing so that an input
  background is reflected in the output GIF.

* Re-fixed small bug with the interaction between per-frame options and
  frame selections.


Version 1.2   28.May.1998

* Fixed small bug with the interaction between per-frame options (`--name',
  `--comment') and frame selections.

* Fixed bad bug in merge: If a global colormap from the source needed to be
  dumped into a local colormap in the destination, the pixel map was wrong,
  resulting in bad colors in the destination.

* Fixed memory leaks. Changed memory usage pattern in gifsicle to
  release source image memory as soon as possible, resulting in a better
  memory profile. Both programs now keep images in compressed form for
  better performance.

* Fixed bugs in gifread.c that corrupted memory when uncompressing some bad
  images.

* Added debugging malloc library (`./configure --enable-dmalloc' to use it).

* Added `--no-delay' and `--no-disposal' options, which should have been there
  all along.

* `--crop' will not generate an image with 0 width or height, even if a
  frame is cropped out of existence.

* Other performance improvements.


Version 1.2b6   25.May.1998

* License clarification in README.

* GIF comments are now printed out more carefully in `--info': binary
  characters appear as backslash escapes. (Literal backslashes are printed
  as `\\'.)

* New `--extension-info/--xinfo' option.

* Removed spurious warning about local colormaps when a `--colors' option
  is in effect.

* Replacing a named frame with another image now keeps the name by default.

* Many changes to gifview. Added `--animate', `--display', `--geometry',
  `--name', `--help' options, keystrokes, multiple GIFs on the command
  line, and a manual page.


Version 1.2b5	12.May.1998

* Longstanding bug fix in gifunopt.c: an interlaced replacement frame
  caused strange behavior when later optimizing, as the underlying data
  wasn't deinterlaced.

* Further improvements in optimizer; specifically, `-O2' works better now
  -- it uses actual image data to look for an unused pixel value when
  there's no transparency specified.


Version 1.2b4	12.May.1998

* Improved `--optimize's performance on images where successive frames had
  different transparent color indexes.


Version 1.2b3	11.May.1998

* Fixed bugs in `--unoptimize': it would try to unoptimize images with
  local color tables and some transparency manipulations could cause a
  silent failure (example: 2 colors; frame 0 = [*11], frame 1 = [*0*],
  where * is a transparent pixel. Unoptimized, frame 1 should contain [*01]
  -- but this can't be expressed with only 2 colors.)

* Greatly improved `--optimize's performance on some images by changing the
  way frames were switched to `--disposal=background'. Problem noticed by
  David Hedbor <david@hedbor.org>

* Documentation improvements.

* Unrecognized extensions are now passed through without change. The
  `--no-extensions' option (currently undocumented) removes all
  unrecognized extensions.

* Bug fix in gifview: frame selections now prevent display of entire GIF.


Version 1.2b2	9.May.1998

* Fixed bad dumb bug in gif.h: lack of parens around macro argument

* Changed heuristic for diversity algorithm: never blend if there are 3 colors
  or less

* Some optimizations to Floyd-Steinberg code


Version 1.2b1	8.May.1998

* Added colormap options: `--colors', `--color-method', `--dither', and
  `--use-colormap'. All this code is in quantize.c.

* Renamed `--color-change' to `--change-color'.


Version 1.1.2

* Added `--color-change' option.

* Added negative frame numbers. `#-N' no longer means `#0-N'; it means the
  `N'th frame from the end (where `#-1' is the last frame). You can use
  negative frame numbers in ranges as well (e.g., `#-5--1').


Version 1.1.1	22.Nov.1997

* Fixed bug in CLP which segmentation-faulted on `-' arguments.


Version 1.1	20.Nov.1997

* Added `--crop' option.

* Changed usage behavior on bad command lines.


Version 1.0	21.Jun.1997

* Added `--output/-o' option to specify output filename.

* Slight behavior change: Now, if you replace a frame (say frame #2), its
  delay value will be preserved in the replacement frame, unless you give
  an explicit delay. (Before, the replacement frame's delay would be used,
  which was probably 0.)


Version 0.91	15.Jun.1997

* Bug fix: `--optimize' didn't handle the bottom row of an image's changed
  area correctly. This could lead to incorrect animations. Specific change:
  merge.c line 744: was y < fbt, now y <= fbt.

* Added `-S' as synonym for `--logical-screen'. 


Version 0.9	12.Jun.1997

* The first release.

* The document http://www.pdos.lcs.mit.edu/~eddietwo/gifsicle/changes.html has
  a possibly more up-to-date list of changes. 
